(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b9c4a93"],{"07ac":function(e,t,s){var n=s("23e7"),i=s("6f53").values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},2532:function(e,t,s){"use strict";var n=s("23e7"),i=s("5a34"),r=s("1d80"),a=s("ab13");n({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(r(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},3049:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",e._g({class:["p-inputtext p-component",{"p-filled":e.filled}],domProps:{value:e.value}},e.listeners))},i=[],r=(s("d3b7"),s("25f0"),s("5530")),a={props:{value:null},computed:{listeners:function(){var e=this;return Object(r["a"])(Object(r["a"])({},this.$listeners),{},{input:function(t){return e.$emit("input",t.target.value)}})},filled:function(){return null!=this.value&&this.value.toString().length>0}}},l=a,o=s("2877"),u=Object(o["a"])(l,n,i,!1,null,null,null);t["default"]=u.exports},"30d4":function(e,t,s){"use strict";var n=s("690d"),i=s.n(n);i.a},"35ec":function(e,t,s){},"404c":function(e,t,s){"use strict";e.exports=s("6361")},"4fad":function(e,t,s){var n=s("23e7"),i=s("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"5b93":function(e,t,s){"use strict";e.exports=s("895a")},"690d":function(e,t,s){},"6f53":function(e,t,s){var n=s("83ab"),i=s("df75"),r=s("fc6a"),a=s("d1e7").f,l=function(e){return function(t){var s,l=r(t),o=i(l),u=o.length,c=0,d=[];while(u>c)s=o[c++],n&&!a.call(l,s)||d.push(e?[s,l[s]]:l[s]);return d}};e.exports={entries:l(!0),values:l(!1)}},"895a":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"p-contextmenu"},on:{enter:e.onEnter,leave:e.onLeave}},[e.visible?s("div",{ref:"container",staticClass:"p-contextmenu p-component"},[s("ContextMenuSub",{attrs:{model:e.model,root:!0},on:{"leaf-click":e.onLeafClick}})],1):e._e()])},i=[],r=(s("a9e3"),s("3a94")),a=s.n(r),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"p-contextmenusub"},on:{enter:e.onEnter}},[e.root||e.parentActive?s("ul",{ref:"container",class:e.containerClass,attrs:{role:"menu"}},[e._l(e.model,(function(t,n){return[e.visible(t)&&!t.separator?s("li",{key:t.label+n,class:e.getItemClass(t),style:t.style,attrs:{role:"none"},on:{mouseenter:function(s){return e.onItemMouseEnter(s,t)}}},[t.to&&!t.disabled?s("router-link",{class:e.getLinkClass(t),attrs:{to:t.to,role:"menuitem"},nativeOn:{click:function(s){return e.onItemClick(s,t)}}},[s("span",{class:["p-menuitem-icon",t.icon]}),s("span",{staticClass:"p-menuitem-text"},[e._v(e._s(t.label))])]):s("a",{class:e.getLinkClass(t),attrs:{href:t.url,target:t.target,"aria-haspopup":null!=t.items,"aria-expanded":t===e.activeItem,role:"menuitem",tabindex:t.disabled?null:"0"},on:{click:function(s){return e.onItemClick(s,t)}}},[s("span",{class:["p-menuitem-icon",t.icon]}),s("span",{staticClass:"p-menuitem-text"},[e._v(e._s(t.label))]),t.items?s("span",{staticClass:"p-submenu-icon pi pi-angle-right"}):e._e()]),e.visible(t)&&t.items?s("sub-menu",{key:t.label+"_sub_",attrs:{model:t.items,parentActive:t===e.activeItem},on:{"leaf-click":e.onLeafClick}}):e._e()],1):e._e(),e.visible(t)&&t.separator?s("li",{key:"separator"+n,staticClass:"p-menu-separator",style:t.style,attrs:{role:"separator"}}):e._e()]}))],2):e._e()])},o=[],u={name:"sub-menu",props:{model:{type:Array,default:null},root:{type:Boolean,default:!1},parentActive:{type:Boolean,default:!1}},watch:{parentActive:function(e){e||(this.activeItem=null)}},data:function(){return{activeItem:null}},methods:{onItemMouseEnter:function(e,t){t.disabled?e.preventDefault():this.activeItem=t},onItemClick:function(e,t){t.disabled?e.preventDefault():(t.url||t.to||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),t.items||this.onLeafClick())},onLeafClick:function(){this.activeItem=null,this.$emit("leaf-click")},onEnter:function(){this.position()},position:function(){var e=this.$refs.container.parentElement,t=a.a.getOffset(this.$refs.container.parentElement),s=a.a.getViewport(),n=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:a.a.getHiddenElementOuterWidth(this.$refs.container),i=a.a.getOuterWidth(e.children[0]);this.$refs.container.style.top="0px",parseInt(t.left,10)+i+n>s.width-a.a.calculateScrollbarWidth()?this.$refs.container.style.left=-1*n+"px":this.$refs.container.style.left=i+"px"},getItemClass:function(e){return["p-menuitem",e.class,{"p-menuitem-active":this.activeItem===e}]},getLinkClass:function(e){return["p-menuitem-link",{"p-disabled":e.disabled}]},visible:function(e){return"function"===typeof e.visible?e.visible():!1!==e.visible}},computed:{containerClass:function(){return{"p-submenu-list":!this.root}}}},c=u,d=s("2877"),m=Object(d["a"])(c,l,o,!1,null,null,null),p=m.exports,f={props:{model:{type:Array,default:null},appendTo:{type:String,default:null},autoZIndex:{type:Boolean,default:!0},baseZIndex:{type:Number,default:0},global:{type:Boolean,default:!1}},target:null,outsideClickListener:null,resizeListener:null,documentContextMenuListener:null,pageX:null,pageY:null,data:function(){return{visible:!1}},beforeDestroy:function(){this.restoreAppend(),this.unbindResizeListener(),this.unbindOutsideClickListener(),this.unbindDocumentContextMenuListener()},mounted:function(){this.global&&this.bindDocumentContextMenuListener()},methods:{itemClick:function(e){var t=e.item;t.command&&(t.command(e),e.originalEvent.preventDefault()),this.hide()},toggle:function(e){this.visible?this.hide():this.show(e)},onLeafClick:function(){this.hide()},show:function(e){this.pageX=e.pageX,this.pageY=e.pageY,this.visible?this.position():this.visible=!0,e.stopPropagation(),e.preventDefault()},hide:function(){this.visible=!1},onEnter:function(){this.appendContainer(),this.position(),this.bindOutsideClickListener(),this.bindResizeListener(),this.autoZIndex&&(this.$refs.container.style.zIndex=String(this.baseZIndex+a.a.generateZIndex()))},onLeave:function(){this.unbindOutsideClickListener(),this.unbindResizeListener()},position:function(){var e=this.pageX+1,t=this.pageY+1,s=this.$refs.container.offsetParent?this.$refs.container.offsetWidth:a.a.getHiddenElementOuterWidth(this.$refs.container),n=this.$refs.container.offsetParent?this.$refs.container.offsetHeight:a.a.getHiddenElementOuterHeight(this.$refs.container),i=a.a.getViewport();e+s-document.body.scrollLeft>i.width&&(e-=s),t+n-document.body.scrollTop>i.height&&(t-=n),e<document.body.scrollLeft&&(e=document.body.scrollLeft),t<document.body.scrollTop&&(t=document.body.scrollTop),this.$refs.container.style.left=e+"px",this.$refs.container.style.top=t+"px"},bindOutsideClickListener:function(){var e=this;this.outsideClickListener||(this.outsideClickListener=function(t){e.visible&&e.$refs.container&&!e.$refs.container.contains(t.target)&&e.hide()},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&e.hide()},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},appendContainer:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.$refs.container):document.getElementById(this.appendTo).appendChild(this.$refs.container))},restoreAppend:function(){this.$refs.container&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.$refs.container):document.getElementById(this.appendTo).removeChild(this.$refs.container))},bindDocumentContextMenuListener:function(){var e=this;this.documentContextMenuListener||(this.documentContextMenuListener=function(t){e.show(t)},document.addEventListener("contextmenu",this.documentContextMenuListener))},unbindDocumentContextMenuListener:function(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)}},computed:{containerClass:function(){return["p-tieredmenu p-component",{"p-tieredmenu-dynamic p-menu-overlay":this.popup}]}},components:{ContextMenuSub:p}},h=f,b=(s("c299d"),Object(d["a"])(h,n,i,!1,null,null,null));t["default"]=b.exports},a84a:function(e,t,s){"use strict";e.exports=s("3049")},b951:function(e,t,s){},c1c9:function(e,t,s){"use strict";e.exports=s("efcf")},c299d:function(e,t,s){"use strict";var n=s("b951"),i=s.n(n);i.a},caad:function(e,t,s){"use strict";var n=s("23e7"),i=s("4d64").includes,r=s("44d2"),a=s("ae40"),l=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!l},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},ed81:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("Toolbar",{on:{"add-user":e.addUser,"set-query":e.setQuery}}),s("Table",{attrs:{users:e.filtredUsers()},on:{"delete-users":e.deleteUsers}})],1)},i=[],r=s("2b0e"),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Toolbar",{staticClass:"p-mb-4 p-mt-4"},[s("template",{slot:"left"},[s("AddUser",{on:{"add-user":e.addUser}})],1),s("template",{slot:"right"},[s("SearchBar",{on:{"set-query":e.setQuery}})],1)],2)},l=[],o=s("c1c9"),u=s.n(o),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"add-user"},[s("SplitButton",{staticClass:"p-mr-2",attrs:{label:"Add User",icon:"pi pi-plus"},on:{click:e.toggleModal},model:{value:e.button,callback:function(t){e.button=t},expression:"button"}}),s("Dialog",{style:{width:"40vw"},attrs:{showHeader:!1,visible:e.displayModal,modal:!0}},[s("div",{staticClass:"modal"},[s("div",{staticClass:"modal__header p-mb-4"},[s("h1",{staticClass:"modal__title"},[e._v("New User")]),s("Button",{staticClass:"modal__close-button",attrs:{icon:"pi pi-times"},on:{click:e.toggleModal}})],1),s("div",{staticClass:"modal__body p-m-2"},[s("form",{staticClass:"modal__form p-mb-4",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[s("span",{staticClass:"modal__span"},[s("label",{attrs:{for:"name"}},[e._v("Name")]),s("InputText",{class:{"p-invalid":""===e.user.name},attrs:{id:"name",type:"text"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),""===e.user.name?s("small",{staticClass:"p-invalid",attrs:{id:"name"}},[e._v(" Name is required ")]):e._e()],1),s("span",{staticClass:"modal__span"},[s("label",{attrs:{for:"userName"}},[e._v("User Name")]),s("InputText",{class:{"p-invalid":""===e.user.userName},attrs:{id:"userName",type:"text"},model:{value:e.user.userName,callback:function(t){e.$set(e.user,"userName",t)},expression:"user.userName"}}),""===e.user.userName?s("small",{staticClass:"p-invalid",attrs:{id:"name"}},[e._v(" Username is required. ")]):e._e()],1),s("span",{staticClass:"modal__span"},[s("label",{attrs:{for:"email"}},[e._v("Email")]),s("InputText",{class:{"p-invalid":""===e.user.email},attrs:{id:"email",type:"text"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),""===e.user.email?s("small",{staticClass:"p-invalid",attrs:{id:"name"}},[e._v(" Username is required. ")]):e._e()],1),s("div",{staticClass:"modal__span"},[s("label",{attrs:{for:"email"}},[e._v("Role(s)")]),s("Dropdown",{attrs:{options:e.roles,optionLabel:"name",placeholder:"Admin"},model:{value:e.user.role,callback:function(t){e.$set(e.user,"role",t)},expression:"user.role"}})],1),s("div",{staticClass:"modal__buttons p-mt-4"},[s("button",{staticClass:"modal__button modal__button--cancel",attrs:{type:"button"},on:{click:e.toggleModal}},[e._v(" Cancel ")]),s("button",{staticClass:"modal__button modal__button--create",attrs:{type:"submit"}},[e._v(" Create User ")])])])])])])],1)},d=[],m=(s("4160"),s("caad"),s("4fad"),s("07ac"),s("2532"),s("159b"),s("7aec")),p=s.n(m),f=s("a84a"),h=s.n(f),b=s("404c"),v=s.n(b),y={name:"AddUser",components:{Dialog:p.a,InputText:h.a,Dropdown:v.a},data:function(){return{button:null,displayModal:!1,user:{name:null,userName:null,email:null,role:"Admin"},roles:[{name:"Admin"},{name:"User"},{name:"Modeler"},{name:"Master"}]}},methods:{toggleModal:function(){this.displayModal=!this.displayModal},onSubmit:function(){var e=this;Object.values(this.user).includes(null)?Object.entries(this.user).forEach((function(t){null===t[1]&&(e.user[t[0]]="")})):(this.$emit("add-user",this.user),this.user={name:null,userName:null,email:null,role:"Admin"},this.toggleModal())}}},C=y,_=(s("f318"),s("2877")),x=Object(_["a"])(C,c,d,!1,null,"7921560e",null),g=x.exports,k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"p-input-icon-left"},[s("i",{staticClass:"pi pi-search"}),s("InputText",{attrs:{type:"text",placeholder:"Search"},on:{change:e.setQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1)},L=[],U={name:"SearchBar",components:{InputText:h.a},data:function(){return{searchQuery:""}},methods:{setQuery:function(){this.$emit("set-query",this.searchQuery)}}},$=U,w=Object(_["a"])($,k,L,!1,null,null,null),E=w.exports,M={name:"Tool",components:{Toolbar:u.a,AddUser:g,SearchBar:E},data:function(){return{button:null,displayModal:!1}},methods:{addUser:function(e){this.$emit("add-user",e)},setQuery:function(e){this.$emit("set-query",e)}}},O=M,I=Object(_["a"])(O,a,l,!1,null,null,null),A=I.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("DataTable",{attrs:{value:e.users,paginator:!0,rows:10,dataKey:"id",rowsPerPageOptions:[10,20,50,100],resizableColumns:!0,columnResizeMode:"expand"}},[s("Column",{attrs:{headerStyle:"width: 3em"},scopedSlots:e._u([{key:"header",fn:function(){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers,expression:"selectedUsers"}],attrs:{type:"checkbox"},domProps:{value:"allUsers",checked:Array.isArray(e.selectedUsers)?e._i(e.selectedUsers,"allUsers")>-1:e.selectedUsers},on:{click:e.selectAllUsers,change:function(t){var s=e.selectedUsers,n=t.target,i=!!n.checked;if(Array.isArray(s)){var r="allUsers",a=e._i(s,r);n.checked?a<0&&(e.selectedUsers=s.concat([r])):a>-1&&(e.selectedUsers=s.slice(0,a).concat(s.slice(a+1)))}else e.selectedUsers=i}}})]},proxy:!0},{key:"body",fn:function(t){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedUsers,expression:"selectedUsers"}],attrs:{type:"checkbox"},domProps:{value:t.data.id,checked:Array.isArray(e.selectedUsers)?e._i(e.selectedUsers,t.data.id)>-1:e.selectedUsers},on:{change:function(s){var n=e.selectedUsers,i=s.target,r=!!i.checked;if(Array.isArray(n)){var a=t.data.id,l=e._i(n,a);i.checked?l<0&&(e.selectedUsers=n.concat([a])):l>-1&&(e.selectedUsers=n.slice(0,l).concat(n.slice(l+1)))}else e.selectedUsers=r}}})]}}])}),e._l(e.columns,(function(t){return s("Column",{key:t.field,attrs:{field:t.field,header:t.header},scopedSlots:e._u([{key:"body",fn:function(n){return[s("p",{on:{contextmenu:[function(t){return t.preventDefault(),e.contextMenu(t)},function(t){return e.selectUser(n.data.id)}]}},[e._v(" "+e._s(n.data[t.field])+" ")])]}}],null,!0)})})),s("Column",{attrs:{headerStyle:"width: 8rem; text-align: center",bodyStyle:"text-align: center; overflow: visible"},scopedSlots:e._u([{key:"body",fn:function(){return[s("Button",{staticClass:"p-button-secondary",attrs:{type:"button",icon:"pi pi-pencil"}})]},proxy:!0}])})],2),s("ContextMenu",{ref:"menu",attrs:{model:e.items}})],1)},S=[],D=s("23a5"),N=s.n(D),z=s("c524"),j=s.n(z),Q=s("5b93"),B=s.n(Q),R=r["default"].extend({name:"Table",props:["users"],components:{DataTable:N.a,Column:j.a,ContextMenu:B.a},data(){return{selectedUsers:[],columns:[{field:"name",header:"Name"},{field:"userName",header:"UserName"},{field:"email",header:"Email"},{field:"role",header:"Role(s)"}],items:[{label:"Reset password",icon:"pi pi-fw pi-refresh"},{label:"Disable selected users",icon:"pi pi-fw pi-eye-slash"},{label:"Delete selected users",icon:"pi pi-fw pi-trash",command:this.deleteUsers}]}},methods:{selectAllUsers(){this.selectedUsers.includes("allUsers")?this.selectedUsers=[]:this.selectedUsers=this.users.map(e=>e.id)},contextMenu(e){this.$refs.menu.show(e)},selectUser(e){this.selectedUsers.push(e)},deleteUsers(){this.$emit("delete-users",this.selectedUsers)}}}),P=R,q=Object(_["a"])(P,T,S,!1,null,null,null),H=q.exports,W=r["default"].extend({name:"Users",components:{Table:H,Toolbar:A},created(){fetch("/api/users").then(e=>e.json()).then(e=>{this.users=e.users}),this.$emit("show-users")},data(){return{users:[],searchQuery:""}},methods:{addUser(e){const t={...e,role:e.role.name,id:this.users.length+1};this.users.unshift(t)},setQuery(e){this.searchQuery=e},filtredUsers(){return this.users.filter(({name:e,userName:t,email:s})=>e.toLowerCase().includes(this.searchQuery.toLowerCase())||t.toLowerCase().includes(this.searchQuery.toLowerCase())||s.toLowerCase().includes(this.searchQuery.toLowerCase()))},deleteUsers(e){this.users=this.users.filter(t=>!e.includes(t.id))}}}),Z=W,X=Object(_["a"])(Z,n,i,!1,null,null,null);t["default"]=X.exports},efcf:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-toolbar p-component",attrs:{role:"toolbar"}},[s("div",{staticClass:"p-toolbar-group-left"},[e._t("left")],2),s("div",{staticClass:"p-toolbar-group-right"},[e._t("right")],2)])},i=[],r={},a=r,l=(s("30d4"),s("2877")),o=Object(l["a"])(a,n,i,!1,null,null,null);t["default"]=o.exports},f318:function(e,t,s){"use strict";var n=s("35ec"),i=s.n(n);i.a}}]);
//# sourceMappingURL=chunk-1b9c4a93.72fa6c10.js.map